@model IEnumerable<FinalBoostrapIntro.Models.Author>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Biography)
                </th>
                <th>Actions</th>
            </tr>
        </thead> 

        <tbody data-bind="foreach: authors">
            <tr>
                <td data-bind="text: FirstName"></td>
                <td data-bind="text: LastName"></td>
                <td data-bind="text: Biography"></td>
                <td>
                   <a data-bind="attr: { href : '@Url.Action("Details")/ + Id'}" class="btn btn-info">Details</a>
                   <a data-bind="attr: { href : '@Url.Action("Edit")/ + Id'}" class="btn btn-primary">Edit</a>
                   <a data-bind="attr: { href : '@Url.Action("Delete")/ + Id'}" class="btn btn-danger">Delete</a>               </td>
            </tr>
        </tbody>
    </table>
</div>

@section Scripts{
    <script>
      
        function ViewModel(authors) {
            var self = this;
            self.authors = authors;
        };

        var viewModel = new ViewModel(@Html.HtmlConvertToJson(Model));
        ko.applyBindings(viewModel);  
    </script>

}